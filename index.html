<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- Font Awesome CSS Icons (For cool glyphicons) -->
    <link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>
    <div id="Hero-banner">
        <!-- <button class="testBtn">Test</button>
        <input class="testInput" placeholder="write here"> -->
        <h1>Work Day Scheduler</h1>
        <p>This is little description box</p>
        <h3 id=currentTimeBox></h3>


    </div>

    <div id="Scheduler-body">

        <div class="slotBoxs">


        </div>

    </div>

    <!-- jQuery JS -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <!-- Code to the JavaScript File -->
    <script src="moment.js"></script>

    <script>

        var workHour = [
            {
                slot: "1",
                time: "9:00 AM"
            },
            {
                slot: "2",
                time: "10:00 AM"
            },
            {
                slot: "3",
                time: "11:00 AM"
            },
            {
                slot: "4",
                time: "12:00 PM"
            },
            {
                slot: "5",
                time: "1:00 PM"
            },
            {
                slot: "6",
                time: "2:00 PM"
            },
            {
                slot: "7",
                time: "3:00 PM"
            },
            {
                slot: "8",
                time: "4:00 PM"
            },
            {
                slot: "9",
                time: "5:00 PM"
            },

        ]


        var slotBox = $(".slotBoxs");
        var eventStorage = ["A", "B"];
        //var numberIndex = 1;

        var currentHour = moment().format('LT');
       

        console.log("Current Hour is " + currentHour);
        console.log("---------");


        //--append html elements --//
        for (var i = 0; i < workHour.length; i++) {

            var slotLine = $("<div>");
            slotLine.addClass("slotLine");
            slotBox.append(slotLine);

            var timeBox = $("<h3>");
            timeBox.addClass("slotHourBox");
            timeBox.text(workHour[i].time);
            slotLine.append(timeBox);

            var inputBox = $("<input>");
            inputBox.addClass("inputBox");
            inputBox.attr("placeholder", "Add Event Here");
            slotLine.append(inputBox);

            var saveBtn = $("<button>");
            saveBtn.addClass("saveButton");
            saveBtn.text("SAVE");
            slotLine.append(saveBtn);
            // numberIndex++;


            //---color changer--//
            var writtenHour = timeBox.text();
            var currentHour2 = parseInt(currentHour);
            var writtenHour2 = parseInt(writtenHour);



            if (currentHour.search("P") == 5) {
                console.log("Now is PM");

                if (writtenHour.search("P") == 5) {

                    if (currentHour2 > writtenHour2) {
                        console.log("EventPassed");
                        slotLine.addClass("eventPassed");

                    }

                    if (currentHour2 < writtenHour2) {
                        console.log("EventNotPassed");
                        slotLine.addClass("eventNotPassed");

                    }

                    if (currentHour2 == writtenHour2) {
                        console.log("EventPresent");
                        slotLine.addClass("eventPresent");

                    }

                }
            }

            if (currentHour.search("A") == 5) {
                console.log("Now is AM");

                if (writtenHour.search("A") == 5) {

                    if (currentHour2 > writtenHour2) {
                        console.log("EventPassed");
                        slotLine.addClass("eventPassed");

                    }

                    if (currentHour2 < writtenHour2) {
                        console.log("EventNotPassed");
                        slotLine.addClass("eventNotPassed");

                    }

                    if (currentHour2 == writtenHour2) {
                        console.log("EventPresent");
                        slotLine.addClass("eventPresent");

                    }

                }
            }

        }





        //--user input--//


        function saveInput(Event) {

            event.preventDefault();

            var userInput = event.target.previousElementSibling.value;
            console.log(JSON.stringify(userInput));

            eventStorage.push(JSON.stringify(userInput));
            localStorage.setItem('saveEvent', eventStorage);


        }










        saveBtn.click(saveInput);










    </script>

</body>

</html>